{% extends "base.html" %} {% block nav %} {% include 'partials/nav_auth_no_post.html' %}
{% endblock nav %} {% block content %}
<div class="comments-list-container">
	{% if likes|length == 0 %}
	<div class="no-comments-msg-wrapper">
    <div class="no-comments-msg">
      You have not liked any comments yet...what are you waiting for?!?
    </div>
  </div>
	{% elif likes|length == 1 %}
	<div class="current-user-page-header">
		You have liked {{ likes|length|pluralize_comment }}
	</div>
	{% else %}
	<div class="current-user-page-header">
		You have liked {{ likes|length }} different comments
	</div>
	{% endif %}
	{% for like in likes|sort(reverse=true, attribute="comment_id") %}
	<div
		class="{% if like.comment.user_id == current_user.id %}comment-card curr-user{% else %}comment-card{% endif %}">
		<div class="comment-content">{{ like.comment.content }}</div>
		<div class="comment-info-container">
			<div class="comment-subtext">
				<span
					class="{% if like.comment.user_id == current_user.id %}strong curr-user{% else %}strong user{% endif %}"
					>{{ like.comment.id|like_username }}</span
				>
				posted this comment on
				<span class="strong">{{ like.comment.created_at|clean_date }}</span>
			</div>
			<div class="comment-counts">
				<div class="replies-count-wrapper">
					<a
						class="{% if like.comment.replies|length == 0 %}replies-count{% elif like.comment.user_id == current_user.id %}replies-count curr-user{% else %}replies-count user{% endif %}"
						href="{{ url_for('replies', comment_id=like.comment.id) }}"
						role="button"
						>{{ like.comment.replies|length|pluralize_reply }}</a
					>
					{% if like.comment.replies %}
					<div
						class="{% if like.comment.user_id == current_user.id %}replies-tooltip curr-user{% else %}replies-tooltip{% endif %}">
						{% for reply in like.comment.replies %}
						<span class="reply-username">{{ reply.id|reply_username }}</span>
						{% endfor %}
					</div>
					{% endif %}
				</div>
				<span class="count-divider">|</span>
				<div class="likes-count-wrapper">
					<span
						class="{% if like.comment.likes|length == 0 %}likes-count{% elif like.comment.user_id == current_user.id %}likes-count curr-user{% else %}likes-count user{% endif %}"
						>{{ like.comment.likes|length|pluralize_like }}</span
					>
					{% if like.comment.likes %}
					<div
						class="{% if like.comment.user_id == current_user.id %}likes-tooltip curr-user{% else %}likes-tooltip{% endif %}">
						{% for like in like.comment.likes %}
						<span class="likes-username">{{ like.id|like_username }}</span>
						{% endfor %}
					</div>
					{% endif %}
				</div>
			</div>
		</div>
	</div>
	{% endfor %}
</div>
{% endblock content %}
