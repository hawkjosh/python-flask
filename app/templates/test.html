{% extends 'base.html' %}

{% block content %}
<h1 style="text-align: center">DATABASE QUERIES</h1>
{% if type == "all" %}
<div style="font-size: 1.5rem; font-weight: bold">ALL USERS ▸ {{users|length}} Total</div>
{% for user in users %}
<div style="display: flex; flex-direction: column; gap: 1rem">
  <div style="text-decoration: underline; font-size: 1.25rem">ID = {{ user.id }}</div>
  <div style="font-size: 1.25rem">
    Username:
    <span style="font-weight: 600">
      {{ user.username }}
    </span>
  </div>
</div>
{% endfor %}


<div style="font-size: 1.5rem; font-weight: bold">ALL COMMENTS ▸ {{comments|length}} Total</div>
{% for comment in comments %}
<div style="display: flex; flex-direction: column; gap: 1rem">
  <div style="text-decoration: underline; font-size: 1.25rem">ID = {{ comment.id }}</div>
  <div style="display: flex; flex-direction: column; gap: 0.5rem">
    <div style="font-size: 1.125rem">{{ comment.content }}</div>
    <div style="font-style: italic">
      - Posted by
      <span style="font-size: 1.0625rem; font-weight: 600">
        {{ comment.user.username }}
      </span> on
      <span style="font-size: 1.0625rem; font-weight: 600">
        {{ comment.created_at|clean_date }}
      </span>
    </div>
  </div>
</div>
{% endfor %}


<div style="font-size: 1.5rem; font-weight: bold">ALL REPLIES ▸ {{replies|length}} Total</div>
{% for reply in replies %}
<div style="display: flex; flex-direction: column; gap: 1rem">
  <div style="text-decoration: underline; font-size: 1.25rem">ID = {{ reply.id }}</div>
  <div style="display: flex; flex-direction: column; gap: 1rem">
    <div style="display: flex; flex-direction: column; gap: 0.5rem">
      <div style="font-size: 1.125rem">{{ reply.comment.content }}</div>
      <div style="font-style: italic">
        - Posted by
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ reply.comment.user.username }}
        </span> on
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ reply.comment.created_at|clean_date }}
        </span>
      </div>
    </div>
    <hr />
    <div style="display: flex; flex-direction: column; gap: 0.5rem">
      <div style="font-size: 1.125rem">{{ reply.content }}</div>
      <div style="font-style: italic">
        - Reply from
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ reply.user.username }}
        </span> on
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ reply.created_at|clean_date }}
        </span>
      </div>
    </div>
  </div>
</div>
{% endfor %}


<div style="font-size: 1.5rem; font-weight: bold">ALL LIKES ▸ {{likes|length}} Total</div>
{% for like in likes %}
<div style="display: flex; flex-direction: column; gap: 1rem">
  <div style="text-decoration: underline; font-size: 1.25rem">ID = {{ like.id }}</div>
  <div style="display: flex; flex-direction: column; gap: 1rem">
    <div style="display: flex; flex-direction: column; gap: 0.5rem">
      <div style="font-size: 1.125rem">{{ like.comment.content }}</div>
      <div style="font-style: italic">
        - Posted by
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ like.comment.user.username }}
        </span> on
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ like.comment.created_at|clean_date }}
        </span>
      </div>
    </div>
    <hr />
    <div>Liked by
      <span style="font-size: 1.125rem; font-weight: 500">
        {{ like.user.username }}
      </span>
    </div>
  </div>
</div>
{% endfor %}


{% elif type == "user" %}
<div style="display: flex; flex-direction: column; gap: 1rem">
  <div style="text-decoration: underline; font-size: 1.375rem">SINGLE USER → ID={{ user.id }}</div>
  <div style="font-size: 1.25rem">
    Username:
    <span style="font-weight: 600">
      {{ user.username }}
    </span>
  </div>
</div>


{% elif type == "comment" %}
<div style="display: flex; flex-direction: column; gap: 1rem">
  <div style="text-decoration: underline; font-size: 1.375rem">SINGLE COMMENT → ID={{ comment.id }}</div>
  <div style="display: flex; flex-direction: column; gap: 0.5rem">
    <div style="font-size: 1.125rem">{{ comment.content }}</div>
    <div style="font-style: italic">
      - Posted by
      <span style="font-size: 1.0625rem; font-weight: 600">
        {{ comment.user.username }}
      </span> on
      <span style="font-size: 1.0625rem; font-weight: 600">
        {{ comment.created_at|clean_date }}
      </span>
    </div>
  </div>
</div>


{% elif type == "reply" %}
<div style="display: flex; flex-direction: column; gap: 1rem">
  <div style="text-decoration: underline; font-size: 1.375rem">SINGLE REPLY → ID={{ reply.id }}</div>
  <div style="display: flex; flex-direction: column; gap: 1rem">
    <div style="display: flex; flex-direction: column; gap: 0.5rem">
      <div style="font-size: 1.125rem">{{ reply.comment.content }}</div>
      <div style="font-style: italic">
        - Posted by
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ reply.comment.user.username }}
        </span> on
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ reply.comment.created_at|clean_date }}
        </span>
      </div>
    </div>
    <hr />
    <div style="display: flex; flex-direction: column; gap: 0.5rem">
      <div style="font-size: 1.125rem">{{ reply.content }}</div>
      <div style="font-style: italic">
        - Reply from
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ reply.user.username }}
        </span> on
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ reply.created_at|clean_date }}
        </span>
      </div>
    </div>
  </div>
</div>


{% elif type == "like" %}
<div style="display: flex; flex-direction: column; gap: 1rem">
  <div style="text-decoration: underline; font-size: 1.375rem">SINGLE LIKE → ID={{ like.id }}</div>
  <div style="display: flex; flex-direction: column; gap: 1rem">
    <div style="display: flex; flex-direction: column; gap: 0.5rem">
      <div style="font-size: 1.125rem">{{ like.comment.content }}</div>
      <div style="font-style: italic">
        - Posted by
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ like.comment.user.username }}
        </span> on
        <span style="font-size: 1.0625rem; font-weight: 600">
          {{ like.comment.created_at|clean_date }}
        </span>
      </div>
    </div>
    <hr />
    <div>Liked by
      <span style="font-size: 1.125rem; font-weight: 500">
        {{ like.user.username }}
      </span>
    </div>
  </div>
</div>
{% endif %}
{% endblock content %}